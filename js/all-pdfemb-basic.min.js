function pdfembGetPDF(b,a){a(b,!1)};jQuery(document).ready(function(b){b.fn.pdfEmbedder=function(){this.each(function(a,h){var e=b(h);e.append(b("<canvas></canvas>",{"class":"the-canvas"}));var c=e.attr("data-pdf-url");pdfembGetPDF(c,function(a,c){PDFJS.getDocument(a).then(function(a){e.data("pdfDoc",a);b.fn.pdfEmbedder.addToolbar(e,!1,c);e.data("pageNum",1);e.data("pageNumPending",null);b.fn.pdfEmbedder.renderPage(e,1);b(window).resize(function(){b.fn.pdfEmbedder.queueRenderPage(e,e.data("pageNum"))})},function(a){e.empty().append(b("<div></div>",
{"class":"pdfemb-errormsg"}).append(document.createTextNode(a.message)))})})});return this};b.fn.pdfEmbedder.renderPage=function(a,h){a.data("pageRendering",!0);a.data("pdfDoc").getPage(h).then(function(e){var c=a.find(".the-canvas"),g,f=e.getViewport(1);g=f.width;f=f.height;(0>=g||0>=f)&&a.empty().append(document.createTextNode("PDF page width or height are invalid"));var k=a.parent().width(),d=g,l=f;if("max"==a.data("width"))d=k;else if("auto"==a.data("width"))d=g;else if(d=parseInt(a.data("width"),
10),isNaN(d)||0>=d)d=k;0>=d&&(d=g);d>k&&0<k&&(d=k);g=d/g;l=f*g;d!=c.width()&&c.width(d);d!=a.width()&&a.width(d);d=parseInt(a.data("height"),10);!isNaN(d)&&0<d&&d<l&&(l=d);a.height()!=l+4&&a.height(l+4);c.height()!=f*g&&c.height(f*g);f=e.getViewport(g);c[0].height=f.height;c[0].width=f.width;c={canvasContext:c[0].getContext("2d"),viewport:f};e.render(c).promise.then(function(){a.data("pageNum",h);a.data("pageRendering",!1);null!==a.data("pageNumPending")&&(b.fn.pdfEmbedder.renderPage(a,a.data("pageNumPending")),
a.data("pageNumPending",null))})})};b.fn.pdfEmbedder.queueRenderPage=function(a,h){a.data("pageRendering")?a.data("pageNumPending",h):b.fn.pdfEmbedder.renderPage(a,h)};b.fn.pdfEmbedder.addToolbar=function(a,h,e){var c=b("<div></div>",{"class":"pdfemb-toolbar "+(h?" pdfemb-toolbar-top":"pdfemb-toolbar-bottom")}),g=b("<button>Prev</button>",{"class":"pdfemb-prev"});c.append(g);var f=b("<button>Next</button>",{"class":"pdfemb-next"});c.append(f);e&&c.append(b("<span>Secure</span>"));h?a.prepend(c):a.append(c);
g.on("click",function(c){1>=a.data("pageNum")||(a.data("pageNum",a.data("pageNum")-1),b.fn.pdfEmbedder.queueRenderPage(a,a.data("pageNum")))});f.on("click",function(c){a.data("pageNum")>=a.data("pdfDoc").numPages||(a.data("pageNum",a.data("pageNum")+1),b.fn.pdfEmbedder.queueRenderPage(a,a.data("pageNum")))});a.on("mouseenter",function(b){a.find("div.pdfemb-toolbar").show()});a.on("mouseleave",function(b){a.find("div.pdfemb-toolbar").hide()})};PDFJS.workerSrc=pdfemb_trans.worker_src;b(".pdfemb-viewer").pdfEmbedder()});
